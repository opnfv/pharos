##############################################################################
# Copyright (c) 2017 Mirantis Inc., Enea AB and others.
# All rights reserved. This program and the accompanying materials
# are made available under the terms of the Apache License, Version 2.0
# which accompanies this distribution, and is available at
# http://www.apache.org/licenses/LICENSE-2.0
##############################################################################
---
### ITRI POD 1 descriptor file ###

details:
  pod_owner: ITRI
  contact: mhhsu@itri.org.tw
  lab: ITRI Pharos Lab
  location: Taiwan
  type: production
  link: https://wiki.opnfv.org/display/pharos/Community+Labs
##############################################################################
net_config:
  # NOTE: Network names are likely to change after the PDF spec is updated
  mgmt:
    interface: 0
    vlan: 1001
    network: 192.168.101.0      # Tagged, 'vlan 300' on wiki
    mask: 24
  storage:
    interface: 0
    vlan: 1002
    network: 192.168.102.0      # Tagged, not the same with 'storage' on wiki
    mask: 24
  oob:
    interface: 1
    ip-range: 100.86.5.28-100.86.5.33
    # vlan: 2086
    vlan: native
  public:
    interface: 1
    vlan: native
    network: 100.86.0.0         # Untagged, 'public' on wiki
    mask: 16
    gateway: 100.86.0.254
    dns:
      - 8.8.8.8
      - 8.8.4.4
  admin:
    interface: 2
    vlan: native
    network: 10.20.0.0          # Untagged, 'PXE/Admin' on wiki, different IP
    mask: 24
  private:
    interface: 3
    vlan: 1010
    network: 192.168.103.0      # Tagged, not the same with 'private' on wiki
    mask: 24
##############################################################################
jumphost:
  name: pod1-jump
  node:
    type: baremetal
    vendor: Dell
    model: PowerEdge R730
    arch: x86_64
    cpus: 2
    cpu_cflags: Broadwell
    cores: 24
    memory: 64G
  disks: &disks
    - name: 'disk1'
      disk_capacity: 480G
      disk_type: ssd
      disk_interface: ssd
      disk_rotation:
    - name: 'disk2'
      disk_capacity: 480G
      disk_type: ssd
      disk_interface: ssd
      disk_rotation:
    - name: 'disk3'
      disk_capacity: 480G
      disk_type: ssd
      disk_interface: ssd
      disk_rotation:
    - name: 'disk4'
      disk_capacity: 480G
      disk_type: ssd
      disk_interface: ssd
      disk_rotation:
    - name: 'disk5'
      disk_capacity: 1T
      disk_type: hdd
      disk_interface: sata
      disk_rotation: 7200
    - name: 'disk6'
      disk_capacity: 1T
      disk_type: hdd
      disk_interface: sata
      disk_rotation: 7200
    - name: 'disk7'
      disk_capacity: 1T
      disk_type: hdd
      disk_interface: sata
      disk_rotation: 7200
    - name: 'disk8'
      disk_capacity: 1T
      disk_type: hdd
      disk_interface: sata
      disk_rotation: 7200
  os: ubuntu-16.04
  remote_params: &remote_params
    type: ipmi
    versions:
      - 2.0
    user: admin
    pass: admin
  remote_management:
    <<: *remote_params
    address: 100.86.5.23
    mac_address: "10:98:36:b5:6f:79"
  interfaces:
    - mac_address: "24:6e:96:5a:33:b4"
      speed: 1gb
      features: 'dpdk|sriov'
    - mac_address: "24:6e:96:5a:33:b0"
      speed: 10gb
      features: 'dpdk|sriov'
    - mac_address: "24:6e:96:5a:33:b5"
      speed: 1gb
      features: 'dpdk|sriov'
  fixed_ips:
    admin: 10.20.0.23
    mgmt: 192.168.101.23
    public: 100.86.1.23
##############################################################################
nodes:
  - name: pod1-node1
    node: &nodeparams
      type: baremetal
      vendor: Dell
      model: PowerEdge R730
      arch: x86_64
      cpus: 2
      cpu_cflags: Broadwell
      cores: 24
      memory: 128G
    disks: *disks
    remote_management:
      <<: *remote_params
      address: 100.86.5.28
      mac_address: "18:66:da:a3:f0:99"
    interfaces:
      - mac_address: "18:66:da:a3:f0:95"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:f0:96"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:f0:97"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "3c:fd:fe:12:29:c0"
        speed: 10gb
        features: 'dpdk|sriov'
    fixed_ips:
      admin: 10.20.0.28
      mgmt: 192.168.101.8
      public: 100.86.1.28
  ############################################################################
  - name: pod1-node2
    node: *nodeparams
    disks: *disks
    remote_management:
      <<: *remote_params
      address: 100.86.5.29
      mac_address: "18:66:da:a3:f3:c9"
    interfaces:
      - mac_address: "18:66:da:a3:f3:c5"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:f3:c6"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:f3:c7"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "3c:fd:fe:12:09:e2"
        speed: 10gb
        features: 'dpdk|sriov'
    fixed_ips:
      admin: 10.20.0.29
      mgmt: 192.168.101.29
      public: 100.86.1.29
  ############################################################################
  - name: pod1-node3
    node: *nodeparams
    disks: *disks
    remote_management:
      <<: *remote_params
      address: 100.86.5.30
      mac_address: "18:66:da:a3:c2:c6"
    interfaces:
      - mac_address: "18:66:da:a3:c2:c2"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:c2:c3"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:c2:c4"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "3c:fd:fe:12:29:e2"
        speed: 10gb
        features: 'dpdk|sriov'
    fixed_ips:
      admin: 10.20.0.30
      mgmt: 192.168.101.30
      public: 100.86.1.30
  ############################################################################
  - name: pod1-node4
    node: *nodeparams
    disks: *disks
    remote_management:
      <<: *remote_params
      address: 100.86.5.31
      mac_address: "18:66:da:a3:bd:dd"
    interfaces:
      - mac_address: "18:66:da:a3:bd:d9"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:bd:da"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:bd:db"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "3c:fd:fe:12:2b:22"
        speed: 10gb
        features: 'dpdk|sriov'
    fixed_ips:
      admin: 10.20.0.31
      mgmt: 192.168.101.31
      public: 100.86.1.31
  ############################################################################
  - name: pod1-node5
    node: *nodeparams
    disks: *disks
    remote_management:
      <<: *remote_params
      address: 100.86.5.32
      mac_address: "18:66:da:a3:b9:8e"
    interfaces:
      - mac_address: "18:66:da:a3:b9:8a"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:b9:8b"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:b9:8c"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "3c:fd:fe:12:29:a2"
        speed: 10gb
        features: 'dpdk|sriov'
    fixed_ips:
      admin: 10.20.0.32
      mgmt: 192.168.101.32
      public: 100.86.1.32
    ############################################################################
  - name: pod1-node6
    node: *nodeparams
    disks: *disks
    remote_management:
      <<: *remote_params
      address: 100.86.5.33
      mac_address: "18:66:da:a3:c7:5b"
    interfaces:
      - mac_address: "18:66:da:a3:c7:57"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:c7:58"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "18:66:da:a3:c7:59"
        speed: 1gb
        features: 'dpdk|sriov'
      - mac_address: "3c:fd:fe:12:2a:c2"
        speed: 10gb
        features: 'dpdk|sriov'
    fixed_ips:
      admin: 10.20.0.33
      mgmt: 192.168.101.33
      public: 100.86.1.33

